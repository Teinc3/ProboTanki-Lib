package §>"O§
{
   import §&#f§.§%"S§;
   import §;"-§.§class case§;
   import §;"-§.§do package catch§;
   import §@#n§.§native const final§;
   import §["U§.§class const dynamic§;
   import alternativa.model.description.DescriptionModel;
   import alternativa.model.timeperiod.TimePeriodModel;
   import alternativa.osgi.OSGi;
   import alternativa.tanks.model.garage.GarageModel;
   import alternativa.tanks.model.item.buyable.BuyableModel;
   import alternativa.tanks.model.item.category.ItemCategoryModel;
   import alternativa.tanks.model.item.category.ItemViewCategoryModel;
   import alternativa.tanks.model.item.countable.CountableItemModel;
   import alternativa.tanks.model.item.discount.DiscountCollectorModel;
   import alternativa.tanks.model.item.discount.DiscountModel;
   import alternativa.tanks.model.item.item.ItemModel;
   import alternativa.tanks.model.item.kit.§ K§;
   import alternativa.tanks.model.item.modification.ModificationModel;
   import alternativa.tanks.model.item.present.PresentItemModel;
   import alternativa.tanks.model.item.properties.ItemPropertiesModel;
   import alternativa.tanks.model.item.temporary.TemporaryItemModel;
   import alternativa.tanks.model.item.upgradable.UpgradableParamsModel;
   import alternativa.tanks.model.item3d.Item3DModel;
   import alternativa.tanks.model.presents.NewPresentsShowingModel;
   import alternativa.tanks.service.achievement.IAchievementService;
   import alternativa.types.Long;
   import §each else§.§,#D§;
   import §get const function§.§[j§;
   import §if try§.§return package if§;
   import §override const finally§.§>#O§;
   import platform.client.fp10.core.model.impl.Model;
   import platform.client.fp10.core.resource.types.ImageResource;
   import platform.client.fp10.core.type.IGameClass;
   import platform.client.fp10.core.type.IGameObject;
   import platform.client.fp10.core.type.ISpace;
   import platform.client.models.commons.description.DescriptionModelCC;
   import platform.client.models.commons.periodtime.TimePeriodModelCC;
   import projects.tanks.client.commons.models.coloring.ColoringCC;
   import projects.tanks.client.commons.types.ItemCategoryEnum;
   import projects.tanks.client.garage.models.garage.GarageModelCC;
   import projects.tanks.client.garage.models.item.buyable.BuyableCC;
   import projects.tanks.client.garage.models.item.category.ItemCategoryCC;
   import projects.tanks.client.garage.models.item.countable.CountableItemCC;
   import projects.tanks.client.garage.models.item.discount.DiscountCC;
   import projects.tanks.client.garage.models.item.item.ItemModelCC;
   import projects.tanks.client.garage.models.item.item3d.Item3DCC;
   import projects.tanks.client.garage.models.item.kit.§9k§;
   import projects.tanks.client.garage.models.item.kit.KitItem;
   import projects.tanks.client.garage.models.item.modification.ModificationCC;
   import projects.tanks.client.garage.models.item.object3ds.Object3DSCC;
   import projects.tanks.client.garage.models.item.present.PresentItemCC;
   import projects.tanks.client.garage.models.item.properties.ItemGaragePropertyData;
   import projects.tanks.client.garage.models.item.properties.ItemPropertiesCC;
   import projects.tanks.client.garage.models.item.temporary.TemporaryItemCC;
   import projects.tanks.client.garage.models.item.upgradeable.UpgradableParamsCC;
   import projects.tanks.client.garage.models.item.upgradeable.calculators.LinearParams;
   import projects.tanks.client.garage.models.item.upgradeable.types.GaragePropertyData;
   import projects.tanks.client.garage.models.item.upgradeable.types.PropertyData;
   import projects.tanks.client.garage.models.item.view.ItemViewCategoryCC;
   import projects.tanks.clients.flash.commons.models.coloring.ColoringModel;
   import projects.tanks.clients.flash.resources.object3ds.Object3DSModel;
   import projects.tanks.clients.flash.resources.resource.Tanks3DSResource;
   import scpacker.utils.§throw package each§;
   import §static set try§.§@"@§;
   import §switch set try§.§in catch final§;
   import §throw var throw§.§+!3§;
   
   public class §break package get§ extends §return package if§
   {
      private var §6-§:GarageModel;
      
      private var §+n§:ItemModel;
      
      private var §2"s§:ItemCategoryModel;
      
      private var §static const§:ItemViewCategoryModel;
      
      private var §,#f§:DescriptionModel;
      
      private var §[#=§:BuyableModel;
      
      private var §=0§:ModificationModel;
      
      private var §do catch set§:ItemPropertiesModel;
      
      private var §extends var while§:UpgradableParamsModel;
      
      private var §include package else§:CountableItemModel;
      
      private var §!!4§:Object3DSModel;
      
      private var §5#3§:ColoringModel;
      
      private var §7X§:TemporaryItemModel;
      
      private var §6"v§:DiscountModel;
      
      private var §2s§:DiscountCollectorModel;
      
      private var §2"N§:§ K§;
      
      private var §else set set§:TimePeriodModel;
      
      private var §false set final§:§+!3§;
      
      private var §dynamic var dynamic§:§do package catch§;
      
      private var §dynamic class§:§class case§;
      
      private var §4G§:PresentItemModel;
      
      private var §each set try§:§native const final§;
      
      private var §+#'§:Item3DModel;
      
      private var §function for catch§:NewPresentsShowingModel;
      
      private var §&#5§:§>#O§;
      
      private var §[$$§:§[j§;
      
      private var § #Z§:§@"@§;
      
      private var achievementService:IAchievementService;
      
      private var gameClass:IGameClass;
      
      private var §get for static§:IGameClass;
      
      private var §in finally§:ISpace;
      
      private var garageObject:IGameObject;
      
      public var modelId:int;
      
      public function §break package get§()
      {
         super();
         this.modelId = 34;
         this.§6-§ = GarageModel(modelRegistry.getModel(Long.getLong(0,300040010)));
         this.§+n§ = ItemModel(modelRegistry.getModel(Long.getLong(800589377,840038407)));
         this.§2"s§ = ItemCategoryModel(modelRegistry.getModel(Long.getLong(492245786,-1837686060)));
         this.§static const§ = ItemViewCategoryModel(modelRegistry.getModel(Long.getLong(1424296501,-807048170)));
         this.§,#f§ = DescriptionModel(modelRegistry.getModel(Long.getLong(916213531,-841295065)));
         this.§[#=§ = BuyableModel(modelRegistry.getModel(Long.getLong(644770553,-155779331)));
         this.§=0§ = ModificationModel(modelRegistry.getModel(Long.getLong(580825858,-1941731225)));
         this.§do catch set§ = ItemPropertiesModel(modelRegistry.getModel(Long.getLong(0,300040017)));
         this.§extends var while§ = UpgradableParamsModel(modelRegistry.getModel(Long.getLong(0,300040029)));
         this.§include package else§ = CountableItemModel(modelRegistry.getModel(Long.getLong(0,300040004)));
         this.§!!4§ = Object3DSModel(modelRegistry.getModel(Long.getLong(1497301838,-1092921347)));
         this.§5#3§ = ColoringModel(modelRegistry.getModel(Long.getLong(947299051,-358915161)));
         this.§7X§ = TemporaryItemModel(modelRegistry.getModel(Long.getLong(0,300040023)));
         this.§6"v§ = DiscountModel(modelRegistry.getModel(Long.getLong(687238537,2002147897)));
         this.§2s§ = DiscountCollectorModel(modelRegistry.getModel(Long.getLong(1896140971,-1323660734)));
         this.§2"N§ = § K§(modelRegistry.getModel(Long.getLong(1215266592,-1320571870)));
         this.§else set set§ = TimePeriodModel(modelRegistry.getModel(Long.getLong(1870140649,1080360405)));
         this.§false set final§ = §+!3§(modelRegistry.getModel(Long.getLong(882584998,678334280)));
         this.§dynamic var dynamic§ = §do package catch§(modelRegistry.getModel(Long.getLong(1891481944,-1293130596)));
         this.§dynamic class§ = §class case§(modelRegistry.getModel(Long.getLong(888433053,2115284408)));
         this.§4G§ = PresentItemModel(modelRegistry.getModel(Long.getLong(253893103,1551357114)));
         this.§each set try§ = §native const final§(modelRegistry.getModel(Long.getLong(0,300040005)));
         this.§+#'§ = Item3DModel(modelRegistry.getModel(Long.getLong(0,300040012)));
         this.§function for catch§ = NewPresentsShowingModel(modelRegistry.getModel(Long.getLong(1012007416,-1351622809)));
         this.§&#5§ = §>#O§(modelRegistry.getModel(Long.getLong(0,300040011)));
         this.§[$$§ = §[j§(modelRegistry.getModel(Long.getLong(253893127,1551357191)));
         this.§ #Z§ = §@"@§(modelRegistry.getModel(Long.getLong(841189855,-1268110049)));
         var _loc1_:Vector.<Long> = new Vector.<Long>();
         var _loc2_:Vector.<Long> = new Vector.<Long>();
         _loc1_.push(this.§+n§.id);
         _loc1_.push(this.§static const§.id);
         _loc1_.push(this.§2"s§.id);
         _loc1_.push(this.§,#f§.id);
         _loc1_.push(this.§[#=§.id);
         _loc1_.push(this.§=0§.id);
         _loc1_.push(this.§do catch set§.id);
         _loc1_.push(this.§extends var while§.id);
         _loc1_.push(this.§include package else§.id);
         _loc1_.push(this.§!!4§.id);
         _loc1_.push(this.§5#3§.id);
         _loc1_.push(this.§7X§.id);
         _loc1_.push(this.§6"v§.id);
         _loc1_.push(this.§2s§.id);
         _loc1_.push(this.§2"N§.id);
         _loc1_.push(this.§else set set§.id);
         _loc1_.push(this.§false set final§.id);
         _loc1_.push(this.§6-§.id);
         _loc1_.push(this.§dynamic var dynamic§.id);
         _loc1_.push(this.§dynamic class§.id);
         _loc1_.push(this.§4G§.id);
         _loc1_.push(this.§each set try§.id);
         _loc1_.push(this.§&#5§.id);
         _loc1_.push(this.§[$$§.id);
         var _loc3_:int = 0;
         while(_loc3_ < _loc1_.length)
         {
            _loc2_.push(_loc1_[_loc3_]);
            _loc3_++;
         }
         this.gameClass = gameTypeRegistry.createClass(Long.getLong(15025,684360),_loc1_);
         _loc2_.push(this.§ #Z§.id);
         this.§get for static§ = gameTypeRegistry.createClass(Long.getLong(15026,684361),_loc2_);
         this.§in finally§ = ISpace(spaceRegistry.getSpace(Long.getLong(884380667,214)));
         this.achievementService = IAchievementService(OSGi.getInstance().getService(IAchievementService));
      }
      
      public function invoke(param1:Object) : void
      {
         switch(param1.getPacketId())
         {
            case §if set const§.§<#?§:
               this.initDepot(param1);
               break;
            case §if set const§.§override for in§:
               this.initMarket(param1);
               break;
            case §if set const§.§4!U§:
               this.§8#j§();
               break;
            case §if set const§.§5!l§:
               this.initMounted(param1);
               break;
            case §if set const§.§<#k§:
               this.§1"U§();
               break;
            case §if set const§.§in const package§:
               this.§break for else§(param1);
               break;
            case §if set const§.§default true§:
               this.selectFirstItemInDepot();
               break;
            case §if set const§.§set package super§:
               this.select(param1);
               break;
            case §if set const§.§override var native§:
               this.showCategory(param1);
               break;
            case §if set const§.§<"-§:
               this.showAlert();
         }
      }
      
      private function initDepot(param1:Object) : void
      {
         var _loc5_:Object = null;
         var _loc6_:Vector.<ItemGaragePropertyData> = null;
         var _loc7_:Vector.<GaragePropertyData> = null;
         var _loc8_:Vector.<PropertyData> = null;
         var _loc9_:Object = null;
         var _loc10_:int = 0;
         var _loc11_:IGameObject = null;
         var _loc12_:Vector.<PropertyData> = null;
         var _loc13_:* = undefined;
         var _loc2_:Vector.<IGameObject> = new Vector.<IGameObject>();
         var _loc3_:Vector.<IGameObject> = new Vector.<IGameObject>();
         var _loc4_:Object = JSON.parse(param1.json);
         for each(_loc5_ in _loc4_.items)
         {
            _loc6_ = new Vector.<ItemGaragePropertyData>();
            _loc7_ = new Vector.<GaragePropertyData>();
            _loc8_ = new Vector.<PropertyData>();
            for each(_loc9_ in _loc5_.properts)
            {
               _loc12_ = new Vector.<PropertyData>();
               _loc6_.push(new ItemGaragePropertyData(§throw package each§.§8">§(_loc9_.property),_loc9_.value));
               if(_loc9_.subproperties != null)
               {
                  for each(_loc13_ in _loc9_.subproperties)
                  {
                     _loc12_.push(new PropertyData(_loc13_.value,_loc13_.value,§throw package each§.§super catch with§(_loc13_.property)));
                  }
               }
               else
               {
                  _loc12_.push(new PropertyData(_loc9_.value,_loc9_.value,§throw package each§.§super catch with§(_loc9_.property)));
               }
               _loc7_.push(new GaragePropertyData(new LinearParams(_loc9_.value,_loc9_.value),0,0,25,_loc12_,§throw package each§.§8">§(_loc9_.property),0,0,new LinearParams(_loc9_.value,_loc9_.value)));
            }
            _loc10_ = int(_loc5_.modificationID);
            _loc11_ = this.§in finally§.createObject(Long.getLong(0,§throw package each§.§include var try§(_loc5_.type) == ItemCategoryEnum.GIVEN_PRESENT ? int(_loc5_.present.date + _loc5_.previewResourceId) : int(_loc5_.previewResourceId)),this.gameClass,_loc5_.id + "_m" + _loc10_);
            Model.object = _loc11_;
            this.§+n§.putInitParams(new ItemModelCC(30,_loc5_.rank,_loc5_.index,ImageResource(resourceRegistry.getResource(Long.getLong(0,_loc5_.previewResourceId)))));
            this.§static const§.putInitParams(new ItemViewCategoryCC(§throw package each§.§in package implements§(_loc5_.category)));
            this.§2"s§.putInitParams(new ItemCategoryCC(§throw package each§.§include var try§(_loc5_.type)));
            this.§,#f§.putInitParams(new DescriptionModelCC(_loc5_.description,_loc5_.name));
            this.§[#=§.putInitParams(new BuyableCC(true,_loc5_.price));
            this.§=0§.putInitParams(new ModificationCC(Long.getLong(0,_loc5_.baseItemId),_loc5_.modificationID == null ? -1 : int(_loc5_.modificationID)));
            this.§do catch set§.putInitParams(new ItemPropertiesCC(_loc6_));
            this.§extends var while§.putInitParams(new UpgradableParamsCC(null,_loc7_));
            this.§include package else§.putInitParams(new CountableItemCC(_loc5_.count == null ? -1 : int(_loc5_.count)));
            this.§!!4§.putInitParams(new Object3DSCC(Long.getLong(0,_loc5_.object3ds)));
            this.§5#3§.putInitParams(new ColoringCC(null,ImageResource(resourceRegistry.getResource(Long.getLong(0,_loc5_.coloring)))));
            this.§7X§.putInitParams(new TemporaryItemCC(0,_loc5_.remainingTimeInSec));
            this.§6"v§.putInitParams(new DiscountCC(_loc5_.discount.percent,_loc5_.discount.timeLeftInSeconds,0));
            if(§throw package each§.§include var try§(_loc5_.type) == ItemCategoryEnum.GIVEN_PRESENT)
            {
               this.§4G§.putInitParams(new PresentItemCC(_loc5_.present.date,ImageResource(resourceRegistry.getResource(Long.getLong(0,_loc5_.present.image))),_loc5_.present.presenter,_loc5_.present.text,_loc5_.present.presentId));
            }
            this.§[$$§.putInitParams(new §class const dynamic§(_loc5_.isForRent));
            this.§6"v§.objectLoadedPost();
            this.§include package else§.objectLoaded();
            this.§7X§.objectLoaded();
            this.§extends var while§.objectLoadedPost();
            Model.popObject();
            if(§throw package each§.§include var try§(_loc5_.type) == ItemCategoryEnum.GIVEN_PRESENT)
            {
               _loc3_.push(_loc11_);
            }
            else
            {
               _loc2_.push(_loc11_);
            }
         }
         this.§6-§.putInitParams(new GarageModelCC(Tanks3DSResource(resourceRegistry.getResource(Long.getLong(0,_loc4_.garageBoxId)))));
         this.§6-§.objectLoaded();
         this.§6-§.initDepot(_loc2_);
         this.§6-§.§case package throw§(_loc3_);
      }
      
      private function initMarket(param1:Object) : void
      {
         var _loc4_:Object = null;
         var _loc5_:Vector.<ItemGaragePropertyData> = null;
         var _loc6_:Vector.<GaragePropertyData> = null;
         var _loc7_:Vector.<PropertyData> = null;
         var _loc8_:Vector.<KitItem> = null;
         var _loc9_:Object = null;
         var _loc10_:IGameObject = null;
         var _loc11_:* = undefined;
         var _loc12_:Vector.<PropertyData> = null;
         var _loc13_:* = undefined;
         var _loc2_:Object = JSON.parse(param1.json);
         var _loc3_:Vector.<IGameObject> = new Vector.<IGameObject>();
         for each(_loc4_ in _loc2_.items)
         {
            _loc5_ = new Vector.<ItemGaragePropertyData>();
            _loc6_ = new Vector.<GaragePropertyData>();
            _loc7_ = new Vector.<PropertyData>();
            _loc8_ = new Vector.<KitItem>();
            if(§throw package each§.§include var try§(_loc4_.type) == ItemCategoryEnum.KIT)
            {
               for each(_loc11_ in _loc4_.kit.kitItems)
               {
                  _loc8_.push(new KitItem(_loc11_.count,this.§in finally§.getObjectByName(_loc11_.id),false));
               }
            }
            for each(_loc9_ in _loc4_.properts)
            {
               _loc12_ = new Vector.<PropertyData>();
               _loc5_.push(new ItemGaragePropertyData(§throw package each§.§8">§(_loc9_.property),_loc9_.value));
               if(_loc9_.subproperties != null)
               {
                  for each(_loc13_ in _loc9_.subproperties)
                  {
                     _loc12_.push(new PropertyData(_loc13_.value,_loc13_.value,§throw package each§.§super catch with§(_loc13_.property)));
                  }
               }
               else
               {
                  _loc12_.push(new PropertyData(_loc9_.value,_loc9_.value,§throw package each§.§super catch with§(_loc9_.property)));
               }
               _loc6_.push(new GaragePropertyData(new LinearParams(_loc9_.value,_loc9_.value),0,0,25,_loc12_,§throw package each§.§8">§(_loc9_.property),0,0,new LinearParams(_loc9_.value,_loc9_.value)));
            }
            _loc10_ = this.§in finally§.createObject(Long.getLong(0,_loc4_.previewResourceId),_loc4_.id == "rename" ? this.§get for static§ : this.gameClass,_loc4_.id + "_m" + (_loc4_.modificationID == undefined ? "0" : _loc4_.modificationID));
            Model.object = _loc10_;
            this.§+n§.putInitParams(new ItemModelCC(30,_loc4_.rank,_loc4_.index,ImageResource(resourceRegistry.getResource(Long.getLong(0,_loc4_.previewResourceId)))));
            this.§static const§.putInitParams(new ItemViewCategoryCC(§throw package each§.§in package implements§(_loc4_.category)));
            this.§2"s§.putInitParams(new ItemCategoryCC(§throw package each§.§include var try§(_loc4_.type)));
            this.§,#f§.putInitParams(new DescriptionModelCC(_loc4_.description,_loc4_.name));
            this.§[#=§.putInitParams(new BuyableCC(true,_loc4_.price));
            this.§=0§.putInitParams(new ModificationCC(Long.getLong(0,_loc4_.baseItemId),_loc4_.modificationID == null ? -1 : int(_loc4_.modificationID)));
            this.§do catch set§.putInitParams(new ItemPropertiesCC(_loc5_));
            this.§extends var while§.putInitParams(new UpgradableParamsCC(null,_loc6_));
            this.§include package else§.putInitParams(new CountableItemCC(§throw package each§.§include var try§(_loc4_.type) == ItemCategoryEnum.INVENTORY ? 0 : -1));
            this.§!!4§.putInitParams(new Object3DSCC(Long.getLong(0,_loc4_.object3ds)));
            this.§5#3§.putInitParams(new ColoringCC(null,ImageResource(resourceRegistry.getResource(Long.getLong(0,_loc4_.coloring)))));
            this.§7X§.putInitParams(new TemporaryItemCC(_loc4_.remainingTimeInSec,_loc4_.remainingTimeInSec));
            this.§6"v§.putInitParams(new DiscountCC(_loc4_.discount.percent,_loc4_.discount.timeLeftInSeconds,_loc4_.discount.timeToStartInSeconds));
            this.§&#5§.putInitParams(new §%"S§(_loc4_.grouped));
            this.§[$$§.putInitParams(new §class const dynamic§(_loc4_.isForRent));
            this.§6"v§.objectLoadedPost();
            if(_loc4_.id == "rename")
            {
               this.§ #Z§.objectLoaded();
            }
            if(§throw package each§.§include var try§(_loc4_.type) == ItemCategoryEnum.KIT)
            {
               this.§2"N§.putInitParams(new §9k§(_loc4_.kit.discountInPercent,ImageResource(resourceRegistry.getResource(Long.getLong(0,_loc4_.kit.image))),_loc8_));
               this.§else set set§.putInitParams(new TimePeriodModelCC(true,_loc4_.kit.isTimeless,_loc4_.kit.timeLeftInSeconds,10));
               this.§else set set§.objectLoaded();
            }
            this.§include package else§.objectLoaded();
            this.§extends var while§.objectLoadedPost();
            _loc3_.push(_loc10_);
            Model.popObject();
         }
         Model.object = this.garageObject = this.§in finally§.createObject(§,#D§.§return set extends§(),this.gameClass,"garageObject");
         this.§each set try§.putInitParams(new §in catch final§(_loc2_.delayMountArmorInSec,_loc2_.delayMountColorInSec,_loc2_.delayMountWeaponInSec));
         this.§each set try§.objectLoadedPost();
         this.§6-§.initMarket(_loc3_);
         this.§6-§.selectFirstItemInDepot();
         this.achievementService.setPanelPartition(1);
         Model.popObject();
      }
      
      private function §8#j§() : void
      {
         var _loc2_:IGameObject = null;
         var _loc3_:IGameObject = null;
         this.§6-§.objectUnloaded();
         var _loc1_:Vector.<IGameObject> = new Vector.<IGameObject>();
         for each(_loc2_ in this.§in finally§.objects)
         {
            _loc1_.push(_loc2_);
         }
         for each(_loc3_ in _loc1_)
         {
            this.§in finally§.destroyObject(_loc3_.id);
         }
         this.§in finally§.destroyObject(this.garageObject.id);
      }
      
      private function initMounted(param1:Object) : void
      {
         var _loc2_:Vector.<IGameObject> = new Vector.<IGameObject>();
         var _loc3_:IGameObject = this.§in finally§.getObjectByName(param1.itemId);
         _loc2_.push(_loc3_);
         Model.object = _loc3_;
         this.§+#'§.putInitParams(new Item3DCC(param1.mounted));
         this.§+#'§.objectLoaded();
         Model.popObject();
         if(param1.mounted)
         {
            this.§6-§.initMounted(_loc2_);
         }
      }
      
      private function §1"U§() : void
      {
         this.§ #Z§.§1"U§();
      }
      
      private function §break for else§(param1:Object) : void
      {
         this.§ #Z§.§break for else§(param1.oldName,param1.newName);
      }
      
      private function selectFirstItemInDepot() : void
      {
         this.§6-§.selectFirstItemInDepot();
      }
      
      private function select(param1:Object) : void
      {
         var _loc2_:IGameObject = this.§in finally§.getObjectByName(param1.itemId);
         this.§6-§.select(_loc2_);
      }
      
      private function showCategory(param1:Object) : void
      {
         this.§6-§.showCategory(§throw package each§.§in package implements§(param1.category));
      }
      
      private function showAlert() : void
      {
         this.§function for catch§.showAlert();
      }
   }
}

